<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>Control Arduino desde Web</title>
  <style>
    body { background-color: black; color: white; font-family: Arial; text-align: center; }
    button { font-size: 1.5em; margin: 10px; padding: 10px 20px; }
  </style>
</head>
<body>
  <h1>Control Remoto desde GitHub Pages</h1>
  <p>Haz clic para encender o apagar cada módulo:</p>

  <button onclick="cambiarEstado('ArduinoPIN1')">Toggle LED 1</button>
  <button onclick="cambiarEstado('ArduinoPIN2')">Toggle LED 2</button>
  <button onclick="cambiarEstado('ArduinoPIN3')">Toggle Relevador</button>
  <button onclick="cambiarEstado('ArduinoPIN4')">Toggle Alarma</button>

  <script>
    async function cambiarEstado(pin) {
      const url = 'https://raw.githubusercontent.com/gamenrick/Arduino_10_SE/main/estado.json';
      const respuesta = await fetch(url + '?nocache=' + Math.random()); // evitar caché
      const estados = await respuesta.json();
      estados[pin] = estados[pin] === 'on' ? 'off' : 'on';

      // Aquí deberías enviar un pull request a GitHub para modificar el JSON (o usar backend externo)
      alert(`El estado de ${pin} se cambió a ${estados[pin]}. Ahora el Arduino lo consultará.`);
      // Esto necesita un backend para persistir cambios reales. Alternativas: Firebase, Google Sheets, etc.
    }
  </script>
</body>
</html>
